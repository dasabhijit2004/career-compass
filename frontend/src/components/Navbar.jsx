import React, { useState, useEffect } from "react";
import { Link, useNavigate } from 'react-router-dom';
import { auth } from '../firebase'; // Firebase auth import
import { signOut } from 'firebase/auth';

const CareerCompassNavbar = () => {
  const [isMenuOpen, setIsMenuOpen] = useState(false);
  const [isLoggedIn, setIsLoggedIn] = useState(false);
  const navigate = useNavigate();

  const toggleMenu = () => {
    setIsMenuOpen(!isMenuOpen);
  };

  // Check login state
  useEffect(() => {
    const unsubscribe = auth.onAuthStateChanged((user) => {
      setIsLoggedIn(!!user);
    });

    return () => unsubscribe();
  }, []);

  // Logout handler
  const handleLogout = async () => {
    try {
      await signOut(auth);
      setIsLoggedIn(false);
      navigate('/login');
    } catch (error) {
      alert('Logout failed: ' + error.message);
    }
  };

  // Redirect to login if not authenticated
  const handleProtectedRoute = (e, path) => {
    if (!isLoggedIn) {
      e.preventDefault();
      alert("Please login to access this feature.");
      navigate('/login');
    }
  };

  return (
    <nav className="fixed top-0 left-0 right-0 w-full shadow-md bg-white z-50">
      <div className="w-full px-4 py-4 md:px-8 flex items-center justify-between">
        {/* Logo (optional) */}
        <div>
          <svg xmlns="http://www.w3.org/2000/svg" width="142" height="22" viewBox="0 0 142 22" fill="none">
            <path d="M9.24905 21.2767L29.2887 11L9.24905 0.723274L14.4594 11L9.24905 21.2767Z" fill="black" />
            <path d="M5.6522 16.9091L11.3044 11.2569L5.6522 5.60472L7.12177 11.2569L5.6522 16.9091Z" fill="black" />
            <path d="M5.6522 16.9091L0 11.2569L5.6522 5.60472L4.18263 11.2569L5.6522 16.9091Z" fill="black" />
            <path d="M39.1415 11.6236H41.3057C41.2623 12.3329 41.0668 12.9626 40.7194 13.5127C40.3768 14.0628 39.8967 14.4923 39.2791 14.8011C38.6662 15.1099 37.928 15.2643 37.0642 15.2643C36.3887 15.2643 35.7831 15.1485 35.2475 14.9169C34.7119 14.6804 34.2535 14.3427 33.8723 13.9036C33.4959 13.4645 33.2088 12.9337 33.011 12.3112C32.8132 11.6888 32.7142 10.9915 32.7142 10.2195V9.48843C32.7142 8.71638 32.8156 8.01912 33.0182 7.39666C33.2257 6.76937 33.5201 6.23618 33.9013 5.79707C34.2873 5.35797 34.7481 5.0202 35.2837 4.78376C35.8193 4.54732 36.4177 4.4291 37.0787 4.4291C37.9569 4.4291 38.6976 4.58834 39.3008 4.90681C39.9088 5.22528 40.3792 5.66438 40.7122 6.22411C41.0499 6.78385 41.2526 7.42079 41.3202 8.13493H39.1488C39.1246 7.71031 39.0402 7.35082 38.8955 7.05648C38.7507 6.75731 38.5311 6.53293 38.2368 6.38335C37.9473 6.22894 37.5613 6.15173 37.0787 6.15173C36.7168 6.15173 36.4008 6.21929 36.1306 6.3544C35.8603 6.48951 35.6335 6.69458 35.4502 6.96962C35.2668 7.24466 35.1293 7.59209 35.0376 8.01189C34.9508 8.42686 34.9073 8.91422 34.9073 9.47395V10.2195C34.9073 10.7647 34.9484 11.2448 35.0304 11.6598C35.1124 12.07 35.2379 12.4174 35.4068 12.7021C35.5805 12.9819 35.8024 13.1943 36.0727 13.339C36.3477 13.4789 36.6782 13.5489 37.0642 13.5489C37.5178 13.5489 37.8918 13.4765 38.1861 13.3318C38.4805 13.187 38.7048 12.9723 38.8593 12.6876C39.0185 12.4029 39.1126 12.0482 39.1415 11.6236Z" fill="black" />
            <path d="M46.8282 13.3535V9.8648C46.8282 9.61388 46.7872 9.39916 46.7052 9.22062C46.6232 9.03726 46.4953 8.89492 46.3216 8.79358C46.1527 8.69225 45.9331 8.64159 45.6629 8.64159C45.4313 8.64159 45.2311 8.6826 45.0622 8.76463C44.8933 8.84184 44.763 8.95523 44.6713 9.10482C44.5796 9.24958 44.5338 9.42087 44.5338 9.61871H42.4493C42.4493 9.28576 42.5265 8.96971 42.6809 8.67054C42.8353 8.37137 43.0597 8.10839 43.354 7.8816C43.6484 7.64999 43.9982 7.46904 44.4035 7.33876C44.8137 7.20847 45.2721 7.14333 45.7787 7.14333C46.3867 7.14333 46.9272 7.24466 47.4 7.44733C47.8729 7.64999 48.2445 7.95398 48.5147 8.35931C48.7897 8.76463 48.9272 9.27129 48.9272 9.87928V13.2304C48.9272 13.6599 48.9538 14.0121 49.0069 14.2872C49.0599 14.5574 49.1371 14.7938 49.2385 14.9965V15.1195H47.1322C47.0309 14.9072 46.9537 14.6418 46.9006 14.3234C46.8524 14.0001 46.8282 13.6768 46.8282 13.3535ZM47.1033 10.3497L47.1178 11.5295H45.9524C45.6774 11.5295 45.4386 11.5609 45.2359 11.6236C45.0332 11.6864 44.8668 11.7756 44.7365 11.8914C44.6062 12.0024 44.5097 12.1327 44.447 12.2823C44.389 12.4319 44.3601 12.5959 44.3601 12.7745C44.3601 12.953 44.4011 13.1146 44.4831 13.2594C44.5652 13.3993 44.6834 13.5103 44.8378 13.5923C44.9922 13.6695 45.1732 13.7082 45.3806 13.7082C45.6943 13.7082 45.9669 13.6454 46.1985 13.52C46.4301 13.3945 46.6087 13.2401 46.7341 13.0567C46.8644 12.8734 46.932 12.6997 46.9368 12.5356L47.4869 13.4186C47.4097 13.6165 47.3035 13.8215 47.1684 14.0339C47.0381 14.2462 46.8717 14.4464 46.669 14.6346C46.4663 14.818 46.2227 14.97 45.938 15.0906C45.6533 15.2064 45.3155 15.2643 44.9247 15.2643C44.4277 15.2643 43.9765 15.1654 43.5712 14.9676C43.1707 14.7649 42.8522 14.4874 42.6158 14.1352C42.3841 13.7781 42.2683 13.3728 42.2683 12.9192C42.2683 12.5091 42.3455 12.1448 42.4999 11.8263C42.6544 11.5078 42.8811 11.24 43.1803 11.0229C43.4843 10.8009 43.8631 10.6344 44.3167 10.5235C44.7702 10.4076 45.2962 10.3497 45.8945 10.3497H47.1033Z" fill="black" />
            <path d="M52.6186 8.99625V15.1195H50.5341V7.28809H52.4956L52.6186 8.99625ZM54.9782 7.23743L54.942 9.16996C54.8406 9.15548 54.7176 9.14342 54.5728 9.13377C54.4329 9.11929 54.305 9.11205 54.1892 9.11205C53.8949 9.11205 53.6391 9.15066 53.422 9.22786C53.2097 9.30024 53.0312 9.40881 52.8864 9.55357C52.7465 9.69833 52.6403 9.87445 52.5679 10.0819C52.5004 10.2894 52.4618 10.5259 52.4521 10.7913L52.0323 10.661C52.0323 10.1543 52.083 9.68868 52.1843 9.26405C52.2856 8.8346 52.4328 8.46064 52.6258 8.14217C52.8237 7.8237 53.0649 7.57761 53.3496 7.4039C53.6343 7.23019 53.96 7.14333 54.3268 7.14333C54.4426 7.14333 54.5608 7.15298 54.6814 7.17228C54.802 7.18676 54.901 7.20847 54.9782 7.23743Z" fill="black" />
            <path d="M59.4223 15.2643C58.8143 15.2643 58.269 15.1678 57.7865 14.9748C57.304 14.777 56.8938 14.5043 56.556 14.1569C56.2231 13.8095 55.9674 13.4066 55.7888 12.9482C55.6103 12.4849 55.521 11.9928 55.521 11.4716V11.1821C55.521 10.5886 55.6055 10.0457 55.7743 9.55357C55.9432 9.06139 56.1845 8.63435 56.4981 8.27245C56.8166 7.91055 57.2026 7.6331 57.6562 7.44009C58.1098 7.24225 58.6213 7.14333 59.1907 7.14333C59.7456 7.14333 60.2377 7.23501 60.6672 7.41838C61.0966 7.60174 61.4561 7.8623 61.7457 8.20007C62.04 8.53784 62.262 8.94317 62.4115 9.41605C62.5611 9.8841 62.6359 10.4052 62.6359 10.9794V11.848H56.4113V10.4583H60.5876V10.2991C60.5876 10.0096 60.5345 9.75141 60.4283 9.52462C60.327 9.293 60.1726 9.10964 59.9651 8.97453C59.7576 8.83943 59.4922 8.77187 59.1689 8.77187C58.8939 8.77187 58.6575 8.83219 58.4596 8.95282C58.2618 9.07345 58.1001 9.24234 57.9747 9.45948C57.854 9.67661 57.7624 9.93235 57.6996 10.2267C57.6417 10.5162 57.6128 10.8347 57.6128 11.1821V11.4716C57.6128 11.7853 57.6562 12.0748 57.7431 12.3402C57.8347 12.6056 57.9626 12.8348 58.1267 13.0278C58.2956 13.2208 58.4982 13.3704 58.7347 13.4765C58.9759 13.5827 59.2486 13.6358 59.5526 13.6358C59.9289 13.6358 60.2788 13.5634 60.6021 13.4186C60.9302 13.269 61.2125 13.0447 61.4489 12.7455L62.4622 13.8457C62.2981 14.0821 62.0738 14.3089 61.7891 14.526C61.5092 14.7432 61.1714 14.9217 60.7758 15.0616C60.3801 15.1968 59.9289 15.2643 59.4223 15.2643Z" fill="black" />
            <path d="M67.4274 15.2643C66.8195 15.2643 66.2742 15.1678 65.7917 14.9748C65.3091 14.777 64.899 14.5043 64.5612 14.1569C64.2283 13.8095 63.9725 13.4066 63.794 12.9482C63.6155 12.4849 63.5262 11.9928 63.5262 11.4716V11.1821C63.5262 10.5886 63.6106 10.0457 63.7795 9.55357C63.9484 9.06139 64.1897 8.63435 64.5033 8.27245C64.8218 7.91055 65.2078 7.6331 65.6614 7.44009C66.115 7.24225 66.6264 7.14333 67.1958 7.14333C67.7507 7.14333 68.2429 7.23501 68.6724 7.41838C69.1018 7.60174 69.4613 7.8623 69.7508 8.20007C70.0452 8.53784 70.2671 8.94317 70.4167 9.41605C70.5663 9.8841 70.6411 10.4052 70.6411 10.9794V11.848H64.4165V10.4583H68.5928V10.2991C68.5928 10.0096 68.5397 9.75141 68.4335 9.52462C68.3322 9.293 68.1778 9.10964 67.9703 8.97453C67.7628 8.83943 67.4974 8.77187 67.1741 8.77187C66.8991 8.77187 66.6626 8.83219 66.4648 8.95282C66.267 9.07345 66.1053 9.24234 65.9799 9.45948C65.8592 9.67661 65.7675 9.93235 65.7048 10.2267C65.6469 10.5162 65.618 10.8347 65.618 11.1821V11.4716C65.618 11.7853 65.6614 12.0748 65.7482 12.3402C65.8399 12.6056 65.9678 12.8348 66.1318 13.0278C66.3007 13.2208 66.5034 13.3704 66.7398 13.4765C66.9811 13.5827 67.2537 13.6358 67.5577 13.6358C67.9341 13.6358 68.2839 13.5634 68.6072 13.4186C68.9353 13.269 69.2176 13.0447 69.4541 12.7455L70.4674 13.8457C70.3033 14.0821 70.0789 14.3089 69.7943 14.526C69.5144 14.7432 69.1766 14.9217 68.7809 15.0616C68.3853 15.1968 67.9341 15.2643 67.4274 15.2643Z" fill="black" />
            <path d="M73.9126 8.99625V15.1195H71.8281V7.28809H73.7896L73.9126 8.99625ZM76.2722 7.23743L76.236 9.16996C76.1347 9.15548 76.0116 9.14342 75.8669 9.13377C75.727 9.11929 75.5991 9.11205 75.4833 9.11205C75.1889 9.11205 74.9332 9.15066 74.716 9.22786C74.5037 9.30024 74.3252 9.40881 74.1804 9.55357C74.0405 9.69833 73.9344 9.87445 73.862 10.0819C73.7944 10.2894 73.7558 10.5259 73.7462 10.7913L73.3264 10.661C73.3264 10.1543 73.377 9.68868 73.4784 9.26405C73.5797 8.8346 73.7269 8.46064 73.9199 8.14217C74.1177 7.8237 74.359 7.57761 74.6437 7.4039C74.9284 7.23019 75.2541 7.14333 75.6208 7.14333C75.7366 7.14333 75.8548 7.15298 75.9755 7.17228C76.0961 7.18676 76.195 7.20847 76.2722 7.23743Z" fill="black" />
            <path d="M87.187 11.6236H89.3512C89.3078 12.3329 89.1123 12.9626 88.7649 13.5127C88.4223 14.0628 87.9422 14.4923 87.3246 14.8011C86.7117 15.1099 85.9735 15.2643 85.1097 15.2643C84.4342 15.2643 83.8286 15.1485 83.293 14.9169C82.7574 14.6804 82.299 14.3427 81.9178 13.9036C81.5414 13.4645 81.2543 12.9337 81.0565 12.3112C80.8587 11.6888 80.7597 10.9915 80.7597 10.2195V9.48843C80.7597 8.71638 80.8611 8.01912 81.0637 7.39666C81.2712 6.76937 81.5656 6.23618 81.9468 5.79707C82.3328 5.35797 82.7936 5.0202 83.3292 4.78376C83.8648 4.54732 84.4632 4.4291 85.1242 4.4291C86.0024 4.4291 86.7431 4.58834 87.3463 4.90681C87.9543 5.22528 88.4247 5.66438 88.7577 6.22411C89.0954 6.78385 89.2981 7.42079 89.3657 8.13493H87.1943C87.1701 7.71031 87.0857 7.35082 86.9409 7.05648C86.7962 6.75731 86.5766 6.53293 86.2823 6.38335C85.9928 6.22894 85.6067 6.15173 85.1242 6.15173C84.7623 6.15173 84.4463 6.21929 84.176 6.3544C83.9058 6.48951 83.679 6.69458 83.4957 6.96962C83.3123 7.24466 83.1748 7.59209 83.0831 8.01189C82.9963 8.42686 82.9528 8.91422 82.9528 9.47395V10.2195C82.9528 10.7647 82.9939 11.2448 83.0759 11.6598C83.1579 12.07 83.2834 12.4174 83.4523 12.7021C83.626 12.9819 83.8479 13.1943 84.1181 13.339C84.3932 13.4789 84.7237 13.5489 85.1097 13.5489C85.5633 13.5489 85.9373 13.4765 86.2316 13.3318C86.526 13.187 86.7503 12.9723 86.9048 12.6876C87.064 12.4029 87.1581 12.0482 87.187 11.6236Z" fill="black" />
            <path d="M90.3138 11.2834V11.1314C90.3138 10.5572 90.3959 10.0289 90.5599 9.54633C90.724 9.05898 90.9628 8.63676 91.2765 8.27969C91.5901 7.92262 91.9761 7.64516 92.4345 7.44733C92.893 7.24466 93.4189 7.14333 94.0124 7.14333C94.6059 7.14333 95.1343 7.24466 95.5975 7.44733C96.0608 7.64516 96.4492 7.92262 96.7628 8.27969C97.0813 8.63676 97.3226 9.05898 97.4866 9.54633C97.6507 10.0289 97.7327 10.5572 97.7327 11.1314V11.2834C97.7327 11.8528 97.6507 12.3812 97.4866 12.8685C97.3226 13.3511 97.0813 13.7733 96.7628 14.1352C96.4492 14.4923 96.0632 14.7697 95.6048 14.9676C95.1464 15.1654 94.6204 15.2643 94.0269 15.2643C93.4334 15.2643 92.905 15.1654 92.4418 14.9676C91.9834 14.7697 91.5949 14.4923 91.2765 14.1352C90.9628 13.7733 90.724 13.3511 90.5599 12.8685C90.3959 12.3812 90.3138 11.8528 90.3138 11.2834ZM92.3984 11.1314V11.2834C92.3984 11.6116 92.4273 11.918 92.4852 12.2027C92.5431 12.4874 92.6348 12.7383 92.7603 12.9554C92.8905 13.1677 93.0594 13.3342 93.2669 13.4548C93.4744 13.5755 93.7277 13.6358 94.0269 13.6358C94.3164 13.6358 94.5649 13.5755 94.7724 13.4548C94.9799 13.3342 95.1464 13.1677 95.2718 12.9554C95.3973 12.7383 95.489 12.4874 95.5469 12.2027C95.6096 11.918 95.641 11.6116 95.641 11.2834V11.1314C95.641 10.813 95.6096 10.5138 95.5469 10.2339C95.489 9.94924 95.3949 9.69833 95.2646 9.48119C95.1391 9.25923 94.9726 9.08552 94.7652 8.96006C94.5577 8.8346 94.3068 8.77187 94.0124 8.77187C93.7181 8.77187 93.4672 8.8346 93.2597 8.96006C93.057 9.08552 92.8905 9.25923 92.7603 9.48119C92.6348 9.69833 92.5431 9.94924 92.4852 10.2339C92.4273 10.5138 92.3984 10.813 92.3984 11.1314Z" fill="black" />
            <path d="M101.098 8.90939V15.1195H99.0066V7.28809H100.968L101.098 8.90939ZM100.809 10.9288H100.23C100.23 10.3835 100.295 9.88169 100.425 9.42329C100.56 8.96006 100.756 8.55956 101.012 8.22179C101.272 7.87919 101.593 7.6138 101.974 7.42561C102.355 7.23743 102.797 7.14333 103.299 7.14333C103.646 7.14333 103.965 7.19641 104.254 7.30257C104.544 7.4039 104.792 7.56555 105 7.78751C105.212 8.00465 105.376 8.28934 105.492 8.64159C105.608 8.98901 105.666 9.4064 105.666 9.89375V15.1195H103.581V10.1254C103.581 9.7683 103.533 9.49325 103.436 9.30024C103.34 9.10723 103.202 8.97212 103.024 8.89492C102.85 8.81771 102.64 8.77911 102.394 8.77911C102.124 8.77911 101.887 8.8346 101.685 8.94558C101.487 9.05656 101.323 9.21097 101.192 9.40881C101.062 9.60182 100.966 9.82861 100.903 10.0892C100.84 10.3497 100.809 10.6296 100.809 10.9288ZM105.47 10.6899L104.725 10.784C104.725 10.2725 104.787 9.79725 104.913 9.35814C105.043 8.91904 105.234 8.53302 105.485 8.20007C105.74 7.86713 106.056 7.60897 106.433 7.42561C106.809 7.23743 107.243 7.14333 107.736 7.14333C108.112 7.14333 108.455 7.19882 108.763 7.30981C109.072 7.41596 109.335 7.58726 109.552 7.8237C109.774 8.05531 109.943 8.35931 110.059 8.73568C110.18 9.11205 110.24 9.57287 110.24 10.1181V15.1195H108.148V10.1181C108.148 9.75623 108.1 9.48119 108.003 9.293C107.912 9.09999 107.777 8.96729 107.598 8.89492C107.424 8.81771 107.217 8.77911 106.976 8.77911C106.725 8.77911 106.505 8.82977 106.317 8.93111C106.129 9.02761 105.972 9.16272 105.846 9.33643C105.721 9.51014 105.627 9.7128 105.564 9.94442C105.501 10.1712 105.47 10.4197 105.47 10.6899Z" fill="black" />
            <path d="M113.938 8.79358V18.1305H111.854V7.28809H113.786L113.938 8.79358ZM118.896 11.117V11.269C118.896 11.8383 118.829 12.3667 118.694 12.8541C118.564 13.3414 118.371 13.7661 118.115 14.128C117.859 14.485 117.541 14.7649 117.159 14.9676C116.783 15.1654 116.349 15.2643 115.857 15.2643C115.379 15.2643 114.964 15.1678 114.612 14.9748C114.259 14.7818 113.963 14.5116 113.721 14.1641C113.485 13.8119 113.294 13.4042 113.15 12.9409C113.005 12.4777 112.894 11.9807 112.817 11.4499V11.0518C112.894 10.4824 113.005 9.96131 113.15 9.48843C113.294 9.01072 113.485 8.59816 113.721 8.25074C113.963 7.89849 114.257 7.62586 114.604 7.43285C114.957 7.23984 115.369 7.14333 115.842 7.14333C116.339 7.14333 116.776 7.23743 117.152 7.42561C117.533 7.6138 117.852 7.88402 118.108 8.23626C118.368 8.58851 118.564 9.00831 118.694 9.49567C118.829 9.98302 118.896 10.5235 118.896 11.117ZM116.805 11.269V11.117C116.805 10.784 116.776 10.4776 116.718 10.1977C116.665 9.91305 116.578 9.66455 116.457 9.45224C116.341 9.23993 116.187 9.07586 115.994 8.96006C115.806 8.83943 115.577 8.77911 115.306 8.77911C115.022 8.77911 114.778 8.82495 114.575 8.91663C114.378 9.00831 114.216 9.14101 114.09 9.31472C113.965 9.48843 113.871 9.69592 113.808 9.93718C113.745 10.1784 113.707 10.4511 113.692 10.7551V11.7611C113.717 12.1182 113.784 12.4391 113.895 12.7238C114.006 13.0037 114.177 13.2256 114.409 13.3897C114.641 13.5537 114.945 13.6358 115.321 13.6358C115.596 13.6358 115.828 13.5755 116.016 13.4548C116.204 13.3294 116.356 13.1581 116.472 12.9409C116.592 12.7238 116.677 12.4729 116.725 12.1882C116.778 11.9035 116.805 11.5971 116.805 11.269Z" fill="black" />
            <path d="M124.419 13.3535V9.8648C124.419 9.61388 124.378 9.39916 124.296 9.22062C124.214 9.03726 124.086 8.89492 123.912 8.79358C123.743 8.69225 123.524 8.64159 123.254 8.64159C123.022 8.64159 122.822 8.6826 122.653 8.76463C122.484 8.84184 122.354 8.95523 122.262 9.10482C122.17 9.24958 122.125 9.42087 122.125 9.61871H120.04C120.04 9.28576 120.117 8.96971 120.272 8.67054C120.426 8.37137 120.65 8.10839 120.945 7.8816C121.239 7.64999 121.589 7.46904 121.994 7.33876C122.404 7.20847 122.863 7.14333 123.37 7.14333C123.978 7.14333 124.518 7.24466 124.991 7.44733C125.464 7.64999 125.835 7.95398 126.105 8.35931C126.381 8.76463 126.518 9.27129 126.518 9.87928V13.2304C126.518 13.6599 126.545 14.0121 126.598 14.2872C126.651 14.5574 126.728 14.7938 126.829 14.9965V15.1195H124.723C124.622 14.9072 124.544 14.6418 124.491 14.3234C124.443 14.0001 124.419 13.6768 124.419 13.3535ZM124.694 10.3497L124.709 11.5295H123.543C123.268 11.5295 123.029 11.5609 122.827 11.6236C122.624 11.6864 122.458 11.7756 122.327 11.8914C122.197 12.0024 122.1 12.1327 122.038 12.2823C121.98 12.4319 121.951 12.5959 121.951 12.7745C121.951 12.953 121.992 13.1146 122.074 13.2594C122.156 13.3993 122.274 13.5103 122.429 13.5923C122.583 13.6695 122.764 13.7082 122.971 13.7082C123.285 13.7082 123.558 13.6454 123.789 13.52C124.021 13.3945 124.199 13.2401 124.325 13.0567C124.455 12.8734 124.523 12.6997 124.528 12.5356L125.078 13.4186C125 13.6165 124.894 13.8215 124.759 14.0339C124.629 14.2462 124.462 14.4464 124.26 14.6346C124.057 14.818 123.813 14.97 123.529 15.0906C123.244 15.2064 122.906 15.2643 122.515 15.2643C122.018 15.2643 121.567 15.1654 121.162 14.9676C120.761 14.7649 120.443 14.4874 120.207 14.1352C119.975 13.7781 119.859 13.3728 119.859 12.9192C119.859 12.5091 119.936 12.1448 120.091 11.8263C120.245 11.5078 120.472 11.24 120.771 11.0229C121.075 10.8009 121.454 10.6344 121.907 10.5235C122.361 10.4076 122.887 10.3497 123.485 10.3497H124.694Z" fill="black" />
            <path d="M132.359 12.9554C132.359 12.8058 132.316 12.6707 132.229 12.5501C132.142 12.4294 131.98 12.3185 131.744 12.2171C131.512 12.111 131.177 12.0145 130.738 11.9276C130.342 11.8408 129.973 11.7322 129.63 11.6019C129.293 11.4668 128.998 11.3052 128.747 11.117C128.501 10.9288 128.308 10.7068 128.168 10.4511C128.028 10.1905 127.958 9.89375 127.958 9.56081C127.958 9.23269 128.028 8.92387 128.168 8.63435C128.313 8.34483 128.518 8.08909 128.784 7.86713C129.054 7.64034 129.382 7.46422 129.768 7.33876C130.159 7.20847 130.598 7.14333 131.085 7.14333C131.766 7.14333 132.349 7.2519 132.837 7.46904C133.329 7.68618 133.705 7.98535 133.966 8.36655C134.231 8.74292 134.364 9.17237 134.364 9.6549H132.279C132.279 9.45224 132.236 9.27129 132.149 9.11205C132.067 8.94799 131.937 8.82012 131.758 8.72844C131.585 8.63194 131.358 8.58368 131.078 8.58368C130.846 8.58368 130.646 8.6247 130.477 8.70673C130.308 8.78393 130.178 8.89009 130.086 9.0252C129.999 9.15548 129.956 9.30024 129.956 9.45948C129.956 9.58011 129.98 9.68868 130.028 9.78518C130.082 9.87686 130.166 9.96131 130.282 10.0385C130.398 10.1157 130.547 10.1881 130.731 10.2556C130.919 10.3184 131.15 10.3763 131.425 10.4294C131.99 10.5452 132.494 10.6972 132.938 10.8854C133.382 11.0687 133.734 11.3196 133.995 11.6381C134.255 11.9517 134.386 12.3643 134.386 12.8758C134.386 13.2232 134.308 13.5417 134.154 13.8312C134 14.1207 133.778 14.374 133.488 14.5912C133.199 14.8035 132.851 14.97 132.446 15.0906C132.045 15.2064 131.594 15.2643 131.092 15.2643C130.364 15.2643 129.746 15.134 129.24 14.8735C128.738 14.6129 128.356 14.2824 128.096 13.8819C127.84 13.4765 127.712 13.0616 127.712 12.6369H129.688C129.698 12.9216 129.77 13.1508 129.905 13.3245C130.045 13.4983 130.221 13.6237 130.434 13.7009C130.651 13.7781 130.885 13.8167 131.136 13.8167C131.406 13.8167 131.63 13.7805 131.809 13.7082C131.988 13.6309 132.123 13.5296 132.214 13.4042C132.311 13.2739 132.359 13.1243 132.359 12.9554Z" fill="black" />
            <path d="M139.973 12.9554C139.973 12.8058 139.93 12.6707 139.843 12.5501C139.756 12.4294 139.595 12.3185 139.358 12.2171C139.127 12.111 138.791 12.0145 138.352 11.9276C137.956 11.8408 137.587 11.7322 137.245 11.6019C136.907 11.4668 136.613 11.3052 136.362 11.117C136.116 10.9288 135.923 10.7068 135.783 10.4511C135.643 10.1905 135.573 9.89375 135.573 9.56081C135.573 9.23269 135.643 8.92387 135.783 8.63435C135.927 8.34483 136.132 8.08909 136.398 7.86713C136.668 7.64034 136.996 7.46422 137.382 7.33876C137.773 7.20847 138.212 7.14333 138.699 7.14333C139.38 7.14333 139.964 7.2519 140.451 7.46904C140.943 7.68618 141.32 7.98535 141.58 8.36655C141.846 8.74292 141.978 9.17237 141.978 9.6549H139.894C139.894 9.45224 139.85 9.27129 139.763 9.11205C139.681 8.94799 139.551 8.82012 139.373 8.72844C139.199 8.63194 138.972 8.58368 138.692 8.58368C138.461 8.58368 138.26 8.6247 138.092 8.70673C137.923 8.78393 137.792 8.89009 137.701 9.0252C137.614 9.15548 137.57 9.30024 137.57 9.45948C137.57 9.58011 137.595 9.68868 137.643 9.78518C137.696 9.87686 137.78 9.96131 137.896 10.0385C138.012 10.1157 138.161 10.1881 138.345 10.2556C138.533 10.3184 138.765 10.3763 139.04 10.4294C139.604 10.5452 140.108 10.6972 140.552 10.8854C140.996 11.0687 141.349 11.3196 141.609 11.6381C141.87 11.9517 142 12.3643 142 12.8758C142 13.2232 141.923 13.5417 141.768 13.8312C141.614 14.1207 141.392 14.374 141.102 14.5912C140.813 14.8035 140.466 14.97 140.06 15.0906C139.66 15.2064 139.209 15.2643 138.707 15.2643C137.978 15.2643 137.36 15.134 136.854 14.8735C136.352 14.6129 135.971 14.2824 135.71 13.8819C135.454 13.4765 135.327 13.0616 135.327 12.6369H137.303C137.312 12.9216 137.385 13.1508 137.52 13.3245C137.66 13.4983 137.836 13.6237 138.048 13.7009C138.265 13.7781 138.499 13.8167 138.75 13.8167C139.02 13.8167 139.245 13.7805 139.423 13.7082C139.602 13.6309 139.737 13.5296 139.829 13.4042C139.925 13.2739 139.973 13.1243 139.973 12.9554Z" fill="black" />
          </svg>
        </div>

        {/* Desktop Navigation Links */}
        <div className="hidden md:flex gap-8 text-lg">
          <Link to="/" className="hover:text-purple-600">Home</Link>
          <Link to="/quiz" onClick={(e) => handleProtectedRoute(e, "/quiz")} className="hover:text-purple-600">
            Quiz
          </Link>
          <Link to="/resume-generation" onClick={(e) => handleProtectedRoute(e, "/resume-generation")} className="hover:text-purple-600">
            Resume Generator
          </Link>
          <Link to="/jobkey" onClick={(e) => handleProtectedRoute(e, "/jobkey")} className="hover:text-purple-600">
            JobKey Matcher
          </Link>
        </div>

        {/* Desktop Right Side Buttons */}
        <div className="hidden md:flex gap-4">
          {isLoggedIn ? (
            <button
              onClick={handleLogout}
              className="bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-md px-4 py-2"
            >
              Logout
            </button>
          ) : (
            <Link
              to="/login"
              className="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-md px-4 py-2"
            >
              Sign in
            </Link>
          )}
        </div>

        {/* Hamburger Icon for Mobile */}
        <button
          className="md:hidden text-gray-600 focus:outline-none"
          onClick={toggleMenu}
        >
          {isMenuOpen ? (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M6 18L18 6M6 6l12 12" />
            </svg>
          ) : (
            <svg className="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4 6h16M4 12h16M4 18h16" />
            </svg>
          )}
        </button>
      </div>

      {/* Mobile Menu Dropdown */}
      {isMenuOpen && (
        <div className="md:hidden w-full px-4 pt-2 pb-4 bg-white border-t">
          <div className="flex flex-col space-y-3 w-full">
            <Link to="/" className="hover:text-purple-600">Home</Link>
            <Link to="/quiz" onClick={(e) => handleProtectedRoute(e, "/quiz")} className="hover:text-purple-600">
              Quiz
            </Link>
            <Link to="/resume-generation" onClick={(e) => handleProtectedRoute(e, "/resume-generation")} className="hover:text-purple-600">
              Resume Generator
            </Link>
            <Link to="/jobkey" onClick={(e) => handleProtectedRoute(e, "/jobkey")} className="hover:text-purple-600">
              JobKey Matcher
            </Link>

            {/* Mobile Sign In / Logout */}
            {isLoggedIn ? (
              <button
                onClick={() => {
                  handleLogout();
                  setIsMenuOpen(false); // Close menu after logout
                }}
                className="bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-md px-4 py-2"
              >
                Logout
              </button>
            ) : (
              <Link
                to="/login"
                className="bg-gradient-to-r from-purple-500 to-pink-500 text-white rounded-md px-4 py-2"
              >
                Sign in
              </Link>
            )}
          </div>
        </div>
      )}
    </nav>
  );
};

export default CareerCompassNavbar;
